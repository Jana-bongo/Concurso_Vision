{% extends "base.html" %}

{% block title %}In√≠cio - Concurso Vision{% endblock %}

{% block content %}
<div class="home-header">
    <h1>Bem-vindo ao Concurso Vision!</h1>
    <p>Acompanhe os concursos p√∫blicos dispon√≠veis, previstos e encerrados.</p>
</div>

<!-- Concursos Dispon√≠veis -->
<section class="concursos-section">
    <h2 class="section-title">üü¢ Concursos Dispon√≠veis</h2>
    {% if disponiveis %}
    <div class="concursos-grid">
        {% for concurso in disponiveis %}
        <div class="concurso-card disponivel">
            <div class="concurso-header">
                <h3>{{ concurso.nome }}</h3>
                <span class="badge badge-disponivel">Dispon√≠vel</span>
            </div>
            <div class="concurso-info">
                <p><strong>√ìrg√£o:</strong> {{ concurso.orgao }}</p>
                <p><strong>Vagas:</strong> {{ concurso.vagas }}</p>
                <p><strong>Escolaridade:</strong> {{ concurso.escolaridade }}</p>
                {% if concurso.data_inscricao_inicio %}
                <p><strong>Inscri√ß√µes:</strong> {{ concurso.data_inscricao_inicio.strftime('%d/%m/%Y') }} a {{ concurso.data_inscricao_fim.strftime('%d/%m/%Y') }}</p>
                {% endif %}
            </div>
            <div class="concurso-actions">
                <a href="{{ url_for('concurso_detalhes', id=concurso.id) }}" class="btn-view">Ver Detalhes</a>
                {% if is_admin %}
                <a href="{{ url_for('editar_concurso', id=concurso.id) }}" class="btn-edit">Editar</a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="no-data">Nenhum concurso dispon√≠vel no momento.</p>
    {% endif %}
</section>

<!-- Concursos Previstos -->
<section class="concursos-section">
    <h2 class="section-title">üü° Concursos Previstos</h2>
    {% if previstos %}
    <div class="concursos-grid">
        {% for concurso in previstos %}
        <div class="concurso-card previsto">
            <div class="concurso-header">
                <h3>{{ concurso.nome }}</h3>
                <span class="badge badge-previsto">Previsto</span>
            </div>
            <div class="concurso-info">
                <p><strong>√ìrg√£o:</strong> {{ concurso.orgao }}</p>
                <p><strong>Vagas:</strong> {{ concurso.vagas if concurso.vagas else 'A definir' }}</p>
                <p><strong>Escolaridade:</strong> {{ concurso.escolaridade if concurso.escolaridade else 'A definir' }}</p>
            </div>
            <div class="concurso-actions">
                <a href="{{ url_for('concurso_detalhes', id=concurso.id) }}" class="btn-view">Ver Detalhes</a>
                {% if is_admin %}
                <a href="{{ url_for('editar_concurso', id=concurso.id) }}" class="btn-edit">Editar</a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="no-data">Nenhum concurso previsto no momento.</p>
    {% endif %}
</section>

<!-- Concursos Terminados -->
<section class="concursos-section">
    <h2 class="section-title">‚ö™ Concursos Encerrados</h2>
    {% if terminados %}
    <div class="concursos-grid">
        {% for concurso in terminados %}
        <div class="concurso-card terminado">
            <div class="concurso-header">
                <h3>{{ concurso.nome }}</h3>
                <span class="badge badge-terminado">Encerrado</span>
            </div>
            <div class="concurso-info">
                <p><strong>√ìrg√£o:</strong> {{ concurso.orgao }}</p>
                <p><strong>Vagas:</strong> {{ concurso.vagas }}</p>
                <p><strong>Escolaridade:</strong> {{ concurso.escolaridade }}</p>
            </div>
            <div class="concurso-actions">
                <a href="{{ url_for('concurso_detalhes', id=concurso.id) }}" class="btn-view">Ver Detalhes</a>
                {% if is_admin %}
                <a href="{{ url_for('editar_concurso', id=concurso.id) }}" class="btn-edit">Editar</a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <p class="no-data">Nenhum concurso encerrado.</p>
    {% endif %}
</section>
{% endblock %}